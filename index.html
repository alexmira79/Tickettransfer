<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Tickets</title>
  <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="slide-container">

<!-- Black Top Bar -->
<div style="
  background: #1c1c1e;
  color: white;
  padding: 14px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: relative;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
">
  <div style="font-size: 16px; font-weight: 600; cursor: pointer;" onclick="goBack()">✕</div>
  <div style="position: absolute; left: 50%; transform: translateX(-50%); font-size: 16px; font-weight: 600;">
    My Ticket
  </div>
  <div style="font-size: 14px; cursor: pointer;" onclick="openAdmin()">Help</div>
</div>

<!-- Blue Tab Row -->
<div class="tab-row">
  <div id="ticketsTab" class="tab active">
    MY TICKETS (<span id="ticketCount">0</span>)
  </div>
  <div id="addonsTab" class="tab">
    ADD-ONS (0)
  </div>
</div>

<div class="carousel-wrapper" style="position: relative; padding-bottom: 80px;">
  <!-- Ticket Carousel -->
  <div class="ticket-carousel">
    <!-- Left spacer -->
    <div class="carousel-spacer"></div>

    <!-- Ticket 1 -->
    <div class="ticket-card" data-sec="119" data-row="13" data-seats="7">
      <div class="ticket-top-tip">
        <div class="ticket-label package-label">Standard Admission</div>
      </div>
      <div class="ticket-top">
        <div class="ticket-info">
          <div class="info-block"><div class="info-title">SEC</div><div class="info-value">119</div></div>
          <div class="info-block"><div class="info-title">ROW</div><div class="info-value">13</div></div>
          <div class="info-block"><div class="info-title">SEAT</div><div class="info-value">7</div></div>
        </div>
      </div>
      <div class="ticket-image">
        <img src="ticketpic.png" />
        <div class="gradient-overlay"></div>
        <div class="overlay">
          <div class="event-title">Gracie Abrams: The Secret Of Us Deluxe Tour with Role Model</div>
          <div class="event-sub">Tue, Jul 29, 2025, 8:00PM • Madison Square Garden</div>
        </div>
      </div>
      <div class="ticket-bottom">
        <div class="floor">7 AVE CHASE SQ</div>
        <button class="view-ticket">
          <img src="scan.png" alt="QR Icon" class="icon" />
          View Ticket
        </button>
        <div class="ticket-details">Ticket Details</div>
      </div>
      <div class="ticket-bottom-line"></div>
    </div>

    <!-- Ticket 2 -->
    <div class="ticket-card" data-sec="119" data-row="13" data-seats="8">
      <div class="ticket-top-tip">
        <div class="ticket-label package-label">Standard Admission</div>
      </div>
      <div class="ticket-top">
        <div class="ticket-info">
          <div class="info-block"><div class="info-title">SEC</div><div class="info-value">119</div></div>
          <div class="info-block"><div class="info-title">ROW</div><div class="info-value">13</div></div>
          <div class="info-block"><div class="info-title">SEAT</div><div class="info-value">8</div></div>
        </div>
      </div>
      <div class="ticket-image">
        <img src="ticketpic.png" />
        <div class="gradient-overlay"></div>
        <div class="overlay">
          <div class="event-title">Gracie Abrams: The Secret Of Us Deluxe Tour with Role Model</div>
          <div class="event-sub">Tue, Jul 29, 2025, 8:00PM • Madison Square Garden</div>
        </div>
      </div>
      <div class="ticket-bottom">
        <div class="floor">7 AVE CHASE SQ</div>
        <button class="view-ticket">
          <img src="scan.png" alt="QR Icon" class="icon" />
          View Ticket
        </button>
        <div class="ticket-details">Ticket Details</div>
      </div>
      <div class="ticket-bottom-line"></div>
    </div>

    <!-- Ticket 3 -->
    <div class="ticket-card" data-sec="119" data-row="13" data-seats="9">
      <div class="ticket-top-tip">
        <div class="ticket-label package-label">Standard Admission</div>
      </div>
      <div class="ticket-top">
        <div class="ticket-info">
          <div class="info-block"><div class="info-title">SEC</div><div class="info-value">119</div></div>
          <div class="info-block"><div class="info-title">ROW</div><div class="info-value">13</div></div>
          <div class="info-block"><div class="info-title">SEAT</div><div class="info-value">9</div></div>
        </div>
      </div>
      <div class="ticket-image">
        <img src="ticketpic.png"/>
        <div class="gradient-overlay"></div>
        <div class="overlay">
          <div class="event-title">Gracie Abrams: The Secret Of Us Deluxe Tour with Role Model</div>
          <div class="event-sub">Tue, Jul 29, 2025, 8:00PM • Madison Square Garden</div>
        </div>
      </div>
      <div class="ticket-bottom">
        <div class="floor">7 AVE CHASE SQ</div>
        <button class="view-ticket">
          <img src="scan.png" alt="QR Icon" class="icon" />
          View Ticket
        </button>
        <div class="ticket-details">Ticket Details</div>
      </div>
      <div class="ticket-bottom-line"></div>
    </div>

    <!-- Right spacer -->
    <div class="carousel-spacer"></div>
  </div>

  <!-- Dots -->
  <div class="dots">
    <span class="dot active"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </div>
</div>

<!-- Main Action Buttons -->
<div class="actions" id="actionsBar">
  <button class="btn transfer" onclick="openTransferPanel()">Transfer</button>
  <button class="btn sell">Sell</button>
</div>

</div>

<!-- Transfer Panel -->
<div class="transfer-panel" id="transferPanel">
  <!-- Header -->
  <div class="transfer-header">
    <div class="transfer-title">SELECT TICKET TO TRANSFER</div>
    <div class="close-transfer" id="closeTransferBtn">✕</div>
  </div>

  <!-- Info Box -->
  <div class="info-box">
    <div class="icon">i</div>
    <div class="message">
      Only transfer tickets to people you know and trust to ensure everyone stays safe and socially distanced.
    </div>
  </div>

  <!-- Section + Ticket Count -->
  <div class="seat-row">
    <div class="section-row">Sec 119, Row 13</div>
    <div class="ticket-count">◆ 3 Tickets</div>
  </div>

  <!-- Seat Buttons -->
  <div class="seats">
    <div class="seat-btn" data-seat="7">
      <div class="seat-label">SEAT 7</div>
    </div>
    <div class="seat-btn" data-seat="8">
      <div class="seat-label">SEAT 8</div>
    </div>
    <div class="seat-btn" data-seat="9">
      <div class="seat-label">SEAT 9</div>
    </div>
  </div>

  <!-- Divider -->
  <div class="seat-divider"></div>

  <!-- Footer -->
  <div class="transfer-footer">
    <div class="count">0 selected</div>
    <button id="transferBtn">TRANSFER TO &gt;</button>
  </div>
</div>

<!-- Transfer Next Panel -->
<div class="transfer-panel" id="transferNextPanel" style="z-index: 1001;">
  <!-- Header -->
  <div class="transfer-header">
    <span class="close-transfer" onclick="closeTransferNext()">✕</span>
    <span class="transfer-title">TRANSFER TICKET</span>
    <span style="width: 24px;"></span> <!-- Symmetry spacer -->
  </div>

  <div style="height: 1px; background-color: #dcdcdc; width: 100%; margin: 0;"></div>

  <!-- Transfer Action Buttons -->
  <div style="display: flex; flex-direction: column; gap: 12px; padding: 24px 20px 16px;">
    <div class="transfer-action-btn">
      <span>Select From Contacts</span>
      <img src="contact.png" alt="Contact Icon" />
    </div>

    <div class="transfer-action-btn" onclick="openManualForm()">
      <span>Manually Enter A Recipient</span>
      <img src="plus.png" alt="Plus Icon" />
    </div>
  </div>

  <!-- Illustration & Info -->
  <div style="padding: 40px 20px 30px; text-align: center;">
    <div style="margin-bottom: 16px;">
      <img src="plane.png" alt="Plane Icon" style="width: 60px; height: 60px;">
    </div>
    <div style="font-size: 15px; font-weight: 600; margin-bottom: 8px;">
      Transfer Tickets Via Email or Text Message
    </div>
    <div style="font-size: 14px; color: #555; line-height: 1.5;">
      Select an Email or mobile number to transfer tickets to your recipient.
    </div>
  </div>

  <!-- Back Button -->
  <div style="
    font-size: 15px;
    font-weight: 600;
    color: #007aff;
    background: none;
    border: none;
    padding: 10px 0;
    margin: 0 20px 24px;
    text-align: left;
    display: flex;
    align-items: center;
    gap: 4px;
    cursor: pointer;
  " onclick="goBackToTransfer()">‹ BACK</div>
</div>

<!-- Manual Form Panel -->
<div style="
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  max-height: 90%;
  background: #fff;
  padding: 24px 20px;
  box-sizing: border-box;
  z-index: 1002;
  overflow-y: auto;
  transform: translateY(100%);
  transition: transform 0.3s ease;
  border-top-left-radius: 12px;
  border-top-right-radius: 12px;
  box-shadow: 0 -2px 16px rgba(0, 0, 0, 0.15);
" id="manualFormPanel">
  <div style="text-align: center; margin-bottom: 20px;">
    <h3 style="font-size: 14px; font-weight: 600; text-transform: uppercase; color: #111; margin-bottom: 6px;">TRANSFER TICKETS</h3>
    <hr style="border: none; border-top: 1px solid #ccc; margin-bottom: 16px;">
    <div style="font-size: 14px; font-weight: 500; color: #111; text-align: left; margin-bottom: 24px;">
      <p><strong><span id="selectedTicketCount">2</span> Ticket(s) Selected</strong></p>
    </div>
  </div>

  <form id="transferForm" style="max-width: 720px; margin: 0 auto; display: flex; flex-direction: column; gap: 12px;">
    <div class="form-field">
      <label for="firstNameInput">First name</label>
      <input id="firstNameInput" class="input" type="text" placeholder="Recipient first name" required />
      <div id="firstNameInput-error" class="error-text" aria-live="polite"></div>
    </div>

    <div class="form-field">
      <label for="lastNameInput">Last name</label>
      <input id="lastNameInput" class="input" type="text" placeholder="Recipient last name" required />
      <div id="lastNameInput-error" class="error-text" aria-live="polite"></div>
    </div>

    <div class="form-field">
      <label for="emailInput">Email</label>
      <input id="emailInput" class="input" type="email" placeholder="name@example.com" required />
      <div id="emailInput-error" class="error-text" aria-live="polite"></div>
    </div>


    <div class="form-field">
      <label for="messageInput">Add a message (optional)</label>
      <textarea id="messageInput" class="input" rows="4" placeholder="Say something to your recipient"></textarea>
    </div>

    

    <div style="display:flex; gap:12px; justify-content:flex-end; margin-top:8px;">
      <button type="button" onclick="goBackFromManualForm()" class="btn plain">Cancel</button>
      <button type="button" id="transferSubmitBtn" class="btn primary" onclick="submitTransferForm()">Transfer tickets</button>
    </div>

    <div id="transferProgress" class="hidden" aria-live="polite"></div>
  </form>
</div>

<!-- Transfer Success Modal -->
<div id="transferSuccessModal" class="transfer-success-modal hidden">
  <div class="transfer-success-content">
    <button class="success-close-btn" onclick="closeSuccessModal()">✕</button>
    <div class="success-icon">ℹ</div>
    <h2 class="success-title">Transfer Successful</h2>
    <p class="success-message">You have successfully transferred <strong id="successTicketCount">1</strong> ticket to <strong id="successEmail">recipient@example.com</strong></p>
    <p class="success-sub">The user should receive the tickets within 5 to 10 Minutes</p>
    <button class="btn success-ok-btn" onclick="closeSuccessModal()">Ok</button>
  </div>
</div>

<!-- Admin Panel -->
<div class="admin-slideup hidden" id="adminSlideUp">
  <div class="admin-header">
    Admin Panel
    <span class="close-btn" onclick="closeAdmin()">Close</span>
  </div>

  <div class="instruction">Update event details and manage tickets below.</div>

  <div class="admin-form">
    <label>Event Title:
      <input type="text" id="eventTitleInput" placeholder="e.g. Gracie Abrams Concert">
    </label>

    <label>Event Date:
      <input type="text" id="eventDateInput" placeholder="e.g. Tue, Jul 29, 2025, 8:00PM">
    </label>

    <label>Venue:
      <input type="text" id="eventVenueInput" placeholder="e.g. Madison Square Garden">
    </label>

    <label>Section:
      <input type="text" id="eventSectionInput" placeholder="e.g. 119">
    </label>

    <label>Row:
      <input type="text" id="eventRowInput" placeholder="e.g. 13">
    </label>

    <label>Number of Tickets:
      <input type="number" id="ticketCountInput" placeholder="e.g. 3" min="1" onchange="renderSeatInputs()">
    </label>

    <div id="seatInputsContainer"></div>

    <label>Floor Label:
      <input type="text" id="eventFloorInput" placeholder="e.g. 7 AVE CHASE SQ">
    </label>

    <label>Package:
      <input type="text" id="eventPackageInput" placeholder="e.g. Standard Admission">
    </label>

    <label>Upload Image:
      <input type="file" id="eventImageInput" accept="image/*">
    </label>

    <button onclick="updateEventInfo()">Save Changes</button>
  </div>
</div>

<script src="javascript.js" defer></script>
</body>
</html>
